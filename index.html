<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SNSが現代社会に与えた影響 - 全国中高生WEBコンテスト2025</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
    <link rel="stylesheet" href="css/common.css">
    <style>
        :root{
            --text-primary: #1a202c;
            --text-secondary: #4a5568;
            --text-light: #718096;
            --background: #ffffff;
            --surface: #f7fafc;
            --border: #e2e8f0;
        }
    </style>
		<style>
        .page-card-theme {
            display: block;
            font-size: 1.1rem;
            font-weight: 700;
            letter-spacing: 0.1em;
            color: var(--card-color-1);
            margin-top: 12px;
            text-transform: uppercase;
            transition: all 0.3s ease;
        }

        .page-card:hover .page-card-theme {
            letter-spacing: 0.2em;
            transform: translateX(4px);
        }

        .page-card-statement {
            font-size: 1.3rem;
            font-weight: 700;
            line-height: 1.4;
            color: var(--text-primary);
            margin-bottom: 16px;
            border-left: 4px solid var(--card-color-1);
            padding-left: 16px;
            transition: all 0.4s cubic-bezier(0.23, 1, 0.320, 1);
        }

        .page-card:hover .page-card-statement {
            border-left-width: 8px;
            padding-left: 24px;
            transform: translateX(4px);
        }

        .page-card-description {
            font-size: 1rem;
            line-height: 1.7;
            color: var(--text-secondary);
            margin-bottom: 24px;
        }

        .page-card-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--card-color-1);
            font-weight: 600;
            font-size: 0.95rem;
            text-decoration: none;
            transition: gap 0.3s ease;
        }

        .page-card:hover .page-card-link {
            gap: 16px;
        }

        .page-card-link::after {
            content: '→';
            font-size: 1.2rem;
        }

        /* アニメーション */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            50% {
                transform: translateX(-50%) translateY(-10px);
            }
        }

        /* レスポンシブ */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 3.5rem;
            }

            .hero-title-sub {
                font-size: 0.3em;
            }

            .pages-section {
                padding: 80px 20px;
            }

            .page-card {
                padding: 40px 32px;
            }

            .page-card-title {
                font-size: 2.8rem;
            }

            .page-card-statement {
                font-size: 1.1rem;
            }
        }

            .pages-grid {
                grid-template-columns: 1fr;
                gap: 24px;
            }

            .page-card {
                padding: 32px 24px;
            }

            .page-card-title {
                font-size: 1.6rem;
            }
        

        @media (max-width: 480px) {
            .hero-title {
                font-size: 2.5rem;
                letter-spacing: -2px;
            }

            .page-number {
                font-size: 36px;
            }
        }
    </style>
</head>
<body>
    <!-- p5.js Canvas -->
    <div id="p5-canvas"></div>

    <!-- メインコンテンツ -->
    <div class="main-container">
        <!-- ヒーローセクション -->
        <section class="hero-section">
            <div class="hero-content">
                <h1 class="hero-title">
                    <span class="hero-title-main">AWAKENING</span>
                    <span class="hero-title-sub">デジタル社会の覚醒</span>
                </h1>
            </div>
            <div class="scroll-indicator">
                <div class="scroll-arrow"></div>
            </div>
        </section>

        <!-- ページカードセクション -->
        <section class="pages-section">
            <div class="section-header">
                <h2 class="section-title">探求の旅路</h2>
                <p class="section-description">
                    8つの視点から、SNSという現象を多角的に解き明かす
                </p>
            </div>

            <div class="pages-grid">
                <!-- Page 2: 序論 -->
                <div class="page-card" data-theme="normal" data-page="intro">
                    <div class="page-number">01</div>
                    <h3 class="page-card-title">
                        序論
                        <span class="page-card-theme">Foundation</span>
                    </h3>
                    
                    <p class="page-card-description">
                        もはや単なるツールではない。ミーム文化、サードプレイスとしての機能。現代社会の文化形成を根底から変えた存在の正体。
                    </p>
                    <a href="page2.html" class="page-card-link">詳しく見る</a>
                </div>

                <!-- Page 3: 系譜 -->
                <div class="page-card" data-theme="normal" data-page="genealogy">
                    <div class="page-number">02</div>
                    <h3 class="page-card-title">
                        系譜
                        <span class="page-card-theme">Evolution</span>
                    </h3>
                    
                    <p class="page-card-description">
                        口承から文字、印刷、電信、そしてSNSへ。人類が数千年かけて築いた情報ネットワークの系譜。現代の問題は、実は古くからある。
                    </p>
                    <a href="page3.html" class="page-card-link">詳しく見る</a>
                </div>

                <!-- Page 4: 両義 -->
                <div class="page-card" data-theme="chaos" data-page="duality">
                    <div class="page-number">03</div>
                    <h3 class="page-card-title">
                        両義
                        <span class="page-card-theme">Duality</span>
                    </h3>
                    
                    <p class="page-card-description">
                        フェイクニュースは真実より6倍速く拡散する。認知バイアス、エコーチェンバー、アルゴリズムが編む情報の罠。あなたは騙されている。
                    </p>
                    <a href="page4.html" class="page-card-link">詳しく見る</a>
                </div>

                <!-- Page 5: 自己 -->
                <div class="page-card" data-theme="chaos" data-page="self">
                    <div class="page-number">04</div>
                    <h3 class="page-card-title">
                        自己
                        <span class="page-card-theme">Identity</span>
                    </h3>
                    
                    <p class="page-card-description">
                        承認欲求、依存症、うつ病リスク26%増加。SNSは脳内ドーパミンを操り、あなたの精神を支配する。データが示す残酷な真実。
                    </p>
                    <a href="page5.html" class="page-card-link">詳しく見る</a>
                </div>

                <!-- Page 6: 資本 -->
                <div class="page-card" data-theme="chaos" data-page="capital">
                    <div class="page-number">05</div>
                    <h3 class="page-card-title">
                        資本
                        <span class="page-card-theme">Capitalism</span>
                    </h3>
                    
                    <p class="page-card-description">
                        年間収益25兆円。あなたの注意力、感情、行動データが商品化される監視資本主義。「無料」の正体は、あなた自身だった。
                    </p>
                    <a href="page6.html" class="page-card-link">詳しく見る</a>
                </div>

                <!-- Page 7: 記憶 -->
                <div class="page-card" data-theme="chaos" data-page="memory">
                    <div class="page-number">06</div>
                    <h3 class="page-card-title">
                        記憶
                        <span class="page-card-theme">Memory</span>
                    </h3>
                    <p class="page-card-description">
                        削除したはずの投稿が9000億ページのアーカイブに永久保存。Wayback Machineが変えた情報社会。忘却する権利は失われた。
                    </p>
                    <a href="page7.html" class="page-card-link">詳しく見る</a>
                </div>

                <!-- Page 8: 未来 -->
                <div class="page-card" data-theme="normal" data-page="future">
                    <div class="page-number">07</div>
                    <h3 class="page-card-title">
                        未来
                        <span class="page-card-theme">Future</span>
                    </h3>
                    <p class="page-card-description">
                        分散型SNS、デジタルサービス法、若い世代の意識変化。絶望の先にある希望。より良いデジタル社会への道筋を、今ここから。
                    </p>
                    <a href="page8.html" class="page-card-link">詳しく見る</a>
                </div>
            </div>
        </section>
    </div>

    <script>
        // p5.jsスケッチ
        let particles = [];
        const numParticles = 400;
        let cameraAngle = 0;
        const cameraRadius = 900;
        let systemMode = 'NORMAL';
        let modeTimer = 0;
        let currentModeDuration;
        let postChaosBoost = 0;
        let p5Instance;

        // p5インスタンスモード
        const sketch = (p) => {
            p.setup = function() {
                let canvas = p.createCanvas(p.windowWidth, p.windowHeight, p.WEBGL);
                canvas.parent('p5-canvas');
                p.colorMode(p.HSB, 360, 100, 100, 100);

                for (let i = 0; i < numParticles; i++) {
                    particles.push(new Particle(p));
                }
                
                currentModeDuration = p.random(5 * 60, 10 * 60);
            };

            p.draw = function() {
                // 自動モード切替を有効化
                modeTimer++;
                if (modeTimer > currentModeDuration) {
                    modeTimer = 0;
                    
                    let newMode;
                    if (systemMode === 'NORMAL') {
                        newMode = 'CHAOS';
                        currentModeDuration = p.random(2 * 60, 4 * 60);
                    } else {
                        newMode = 'NORMAL';
                        currentModeDuration = p.random(5 * 60, 10 * 60);
                        postChaosBoost = 5.0;
                    }
                    systemMode = newMode; // p5.jsのモードを更新
                    window.updateHeroTitle(newMode); // HTMLのタイトルも更新
                }

                p.background(230, 90, 5);

                // パースペクティブ設定を明示的に
                p.perspective(p.PI / 3.0, p.width / p.height, 10, 10000);

                let camX = cameraRadius * p.cos(cameraAngle);
                let camY = 250;
                let camZ = cameraRadius * p.sin(cameraAngle);
                p.camera(camX, camY, camZ, 0, 0, 0, 0, 1, 0);

                p.blendMode(p.ADD);
                p.ambientLight(50, 50, 50);
                p.pointLight(255, 255, 255, 0, 0, 0);

                let mainAttractorPower = (systemMode === 'NORMAL') ? 0.5 : -1.5;

                if (postChaosBoost > 0) {
                    mainAttractorPower += postChaosBoost;
                    postChaosBoost *= 0.99;
                    if (postChaosBoost < 0.01) postChaosBoost = 0;
                }

                for (let particle of particles) {
                    let force = p5.Vector.sub(p.createVector(0,0,0), particle.pos);
                    let distSq = force.magSq();
                    distSq = p.constrain(distSq, 100, 10000);
                    let strength = (mainAttractorPower * 100) / distSq;
                    force.setMag(strength);
                    particle.applyForce(force);
                }

                for (let i = 0; i < particles.length; i++) {
                    for (let j = i + 1; j < particles.length; j++) {
                        let force = particles[i].interact(particles[j], systemMode, p);
                        particles[i].applyForce(force);
                        particles[j].applyForce(p5.Vector.mult(force, -1));
                    }
                }

                for (let particle of particles) {
                    particle.update(systemMode, p);
                    particle.display(systemMode, p);
                }

                p.blendMode(p.BLEND);
                cameraAngle += 0.002;
            };

            p.windowResized = function() {
                p.resizeCanvas(p.windowWidth, p.windowHeight);
            };
        };

        class Particle {
            constructor(p) {
                this.pos = p5.Vector.random3D().mult(p.random(300, 500));
                this.vel = p.createVector();
                this.acc = p.createVector();
                this.mass = p.random(1.5, 4);
                this.lifespan = p.random(300, 600);
                this.maxLife = this.lifespan;
                this.normalHue = p.random(170, 280);
                this.chaosHue = (p.random(-30, 30) + 360) % 360;
            }
            
            applyForce(force) {
                let f = p5.Vector.div(force, this.mass);
                this.acc.add(f);
            }

            update(mode, p) {
                if (mode === 'CHAOS') {
                    let chaosKick = p5.Vector.random3D().mult(0.7);
                    this.acc.add(chaosKick);
                }
                
                this.vel.add(this.acc);
                
                if (mode === 'NORMAL') {
                    this.vel.mult(0.995);
                }
                
                let maxSpeed = (mode === 'NORMAL') ? 4 : 10;
                this.vel.limit(maxSpeed);
                this.pos.add(this.vel);
                this.acc.mult(0);

                this.lifespan--;
                if (this.lifespan < 0) {
                    this.rebirth(p);
                }
            }

            rebirth(p) {
                this.pos = p5.Vector.random3D().mult(p.random(300, 500));
                this.vel.mult(0);
                this.acc.mult(0);
                this.lifespan = this.maxLife;
            }

            display(mode, p) {
                p.push();
                p.translate(this.pos.x, this.pos.y, this.pos.z);
                p.noStroke();
                
                let finalHue;
                let saturation = 90;
                let brightness = 100;
                let alpha = 100;
                let sphereSize = this.mass * 2;
                
                if (mode === 'CHAOS') {
                    finalHue = this.chaosHue;
                    brightness = p.random(60, 100);
                    alpha = p.random(70, 100);
                } else {
                    finalHue = this.normalHue;
                    brightness = p.map(this.vel.mag(), 0, 10, 80, 100);
                    
                    if (this.lifespan < this.maxLife * 0.2) {
                        alpha = p.map(this.lifespan, 0, this.maxLife * 0.2, 0, 100) * p.random(0.5, 1.2);
                        saturation = 100;
                        brightness = 100;
                    } else {
                        alpha = p.map(this.lifespan, this.maxLife * 0.2, this.maxLife, 100, 50);
                    }
                    
                    if (this.lifespan < this.maxLife * 0.1) {
                        sphereSize *= 1.5;
                    }
                }
                
                const age = this.maxLife - this.lifespan;
                const fadeinDuration = 50;
                if (age < fadeinDuration) {
                    let scale = p.map(age, 0, fadeinDuration, 0, 1);
                    sphereSize *= scale;
                    alpha *= scale;
                }

                p.fill(finalHue, saturation, brightness, alpha);
                p.sphere(sphereSize);
                p.pop();
            }
            
            interact(other, mode, p) {
                let force = p5.Vector.sub(other.pos, this.pos);
                let distance = force.mag();
                
                if (distance === 0 || distance > 120) return p.createVector(0, 0, 0);
                
                if (mode === 'NORMAL') {
                    if (distance < 50) {
                        let strength = 0.8 / (distance * distance);
                        force.setMag(strength);
                        force.mult(-1);
                        return force;
                    } else {
                        let strength = 0.02;
                        force.setMag(strength);
                        return force;
                    }
                } else {
                    let strength = 1.5 / (distance * distance);
                    force.setMag(strength);
                    force.mult(-1);
                    return force;
                }
            }
        }

        // p5インスタンス作成
        p5Instance = new p5(sketch);

        // グローバル関数でモード変更
        window.updateP5Mode = function(mode) {
            systemMode = mode;
            modeTimer = 0;
            // カードホバー時は自動モード切替を一時的に抑制
            currentModeDuration = (mode === 'CHAOS') ? 180 : 300;
        };

        const heroTitle = document.querySelector('.hero-title');
        let currentMode = 'NORMAL';

        // グローバル関数でヒーロータイトルのクラスを更新
        window.updateHeroTitle = function(newMode) {
            if (newMode !== currentMode) {
                currentMode = newMode;
                if (newMode === 'CHAOS') {
                    heroTitle.classList.add('chaos-mode');
                } else {
                    heroTitle.classList.remove('chaos-mode');
                }
            }
        }

        // カードホバーでモード切替
        document.addEventListener('DOMContentLoaded', () => {
            const cards = document.querySelectorAll('.page-card');
            
            cards.forEach(card => {
                card.addEventListener('mouseenter', () => {
                    const theme = card.dataset.theme;
                    const newMode = theme === 'chaos' ? 'CHAOS' : 'NORMAL';
                    
                    // モード切替とタイトルアニメーションの連動
                    window.updateP5Mode(newMode);
                    window.updateHeroTitle(newMode);
                });
            });

            // スクロールアニメーション (変更なし)
            const observerOptions = {
                threshold: 0.2,
                rootMargin: '0px 0px -100px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        setTimeout(() => {
                            entry.target.classList.add('visible');
                        }, index * 100);
                    }
                });
            }, observerOptions);

            cards.forEach(card => observer.observe(card));
            
            const sectionHeader = document.querySelector('.section-header');
            if (sectionHeader) observer.observe(sectionHeader);
        });
    </script>
</body>
</html>